<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banking Transaction</title>
    <!-- <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous"> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./assets/bootstrap/v5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="./assets/fontawesome/v5.15.4/css/all.min.css">
    <link rel="stylesheet" href="./assets/sweetalert2/sweetalert2.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script> -->
</head>

<body>
    <div class="container">
        <header>
            <div class="col-lg-6">
                <h1>List of customers</h1>
            </div>
            <div class="col-lg-6 header-right-button">
                <a href="#">
                    <button class="btn btn-outline-light">
                        <i class="fas fa-history"></i>
                        Transfer histories
                    </button>
                </a>

                <button class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#addModal">
                    <i class="fas fa-user-plus"></i>
                    Add new customer
                </button>

            </div>
        </header>

        <div class="content">
            <table class="table table-hover">
                <thead style="background-color: #4caf50;">
                    <tr>
                        <th>#</th>
                        <th>Full name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Address</th>
                        <th>Balance</th>
                        <th colspan="5">Action</th>
                    </tr>
                </thead>
                <tbody id="tbodyCustomer">

                    <tr>
                        <td class="text-center">1</td>
                        <td class="text-center">Bảo Thi</td>
                        <td class="text-center">thi@gmail.com</td>
                        <td class="text-center">0123654789</td>
                        <td class="text-center">Huế</td>
                        <td class="text-center">0</td>
                        <td>
                            <button title="Edit" type="button" class="btn btn-outline-primary" data-bs-toggle="modal"
                                data-bs-target="#editModal">
                                <i class="fas fa-pencil-alt"></i>
                            </button>
                        </td>
                        <td>
                            <button title="Deposit" class="btn btn-outline-success" data-bs-toggle="modal"
                                data-bs-target="#depositModal">
                                <i class="fas fa-plus"></i>
                            </button>
                        </td>
                        <td>
                            <button title="Withdraw" class="btn btn-outline-info" data-bs-toggle="modal"
                                data-bs-target="#withdrawModal">
                                <i class="fas fa-minus"></i>
                            </button>
                        </td>
                        <td>
                            <button title="Transfer" class="btn btn-outline-warning" data-bs-toggle="modal"
                                data-bs-target="#transferModal">
                                <i class="fas fa-exchange-alt"></i>
                            </button>
                        </td>
                        <td>
                            <button title="Suspend" class="btn btn-outline-danger" data-bs-toggle="modal"
                                data-bs-target="#suspendModal">
                                <i class="fas fa-ban"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!--add customer Modal -->
            <div class="modal fade modal-lg" id="addModal" tabindex="-1" aria-labelledby="editModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editModalLabel">Create</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Full Name</label>
                                    <input type="text" class="form-control" name="fullName">
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Email</label>
                                    <input type="email" class="form-control" name="email">
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Phone</label>
                                    <input type="tel" class="form-control" name="phone">
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Address</label>
                                    <input type="text" class="form-control" name="address">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="btnCreate">Create</button>
                        </div>
                    </div>
                </div>
            </div>


            <!--edit  Modal -->
            <div class="modal fade modal-lg" id="modalUpdate" tabindex="-1" aria-labelledby="editModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editModalLabel">Edit</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Full Name</label>
                                    <input type="text" class="form-control" name="fullName">
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Email</label>
                                    <input type="email" class="form-control" name="email">
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Phone</label>
                                    <input type="tel" class="form-control" name="phone">
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Address</label>
                                    <input type="text" class="form-control" name="address">
                                </div>
                            </div>
                            <div hidden="true" class="row mb-3">
                                <label class="col-2" for="balance">Balance</label>
                                <div class="col-9">
                                    <input type="number" name="balance" id="balance" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Edit</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--deposit  Modal -->
            <div class="modal fade modal-lg" id="depositModal" tabindex="-1" aria-labelledby="editModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editModalLabel">Deposit</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Customer ID</label>
                                    <input type="email" class="form-control" readonly>
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Full Name</label>
                                    <input type="text" class="form-control" readonly>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Current balance ($)</label>
                                    <input type="text" class="form-control num-space" readonly>
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Transaction Amount ($)</label>
                                    <input type="text" class="form-control num-space" name="transactionAmount">
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-success">Deposit</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--withdraw  Modal -->
            <div class="modal fade modal-lg" id="withdrawModal" tabindex="-1" aria-labelledby="editModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editModalLabel">Withdraw</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Customer ID</label>
                                    <input type="email" class="form-control" readonly>
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Full Name</label>
                                    <input type="text" class="form-control" readonly>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-lg-6">
                                    <label class="fw-bold">Current balance ($)</label>
                                    <input type="text" class="form-control num-space" th:field="*{customer.balance}"
                                        readonly>
                                </div>
                                <div class="col-lg-6">
                                    <label class="fw-bold">Transaction Amount ($)</label>
                                    <input type="text" class="form-control num-space" name="transactionAmount">
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-info">Withdraw</button>
                        </div>
                    </div>
                </div>
            </div>

            <!--Transfer Modal -->
            <div class="modal fade modal-xl" id="transferModal" tabindex="-1" aria-labelledby="editModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editModalLabel">Transfer</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row mt-3">
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label class="fw-bold" for="senderID" class="form-label">Sender ID</label>
                                    <input type="number" class="form-control" id="senderID" th:value="${sender.id}"
                                        readonly>
                                </div>
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label class="fw-bold" for="senderName" class="form-label">Sender Name</label>
                                    <input type="text" class="form-control" id="senderName"
                                        th:value="${sender.fullName}" readonly>
                                </div>
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label class="fw-bold" for="email" class="form-label">Sender Email</label>
                                    <input type="email" class="form-control" id="email" th:value="${sender.email}"
                                        readonly>
                                </div>
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label class="fw-bold" for="balance" class="form-label">Sender Balance</label>
                                    <input type="number" class="form-control num-space" id="balance"
                                        th:value="${sender.balance}" readonly>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label for="recipientName" class="form-label fw-bold">Recipient Name</label>
                                    <select id="recipientName" name="recipientId" class="form-control">
                                        <th:block th:each="recipient :${recipients}">
                                            <option th:value="*{recipient.id}" th:text="*{recipient.fullName}"></option>
                                        </th:block>
                                    </select>
                                </div>
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label for="transfer" class="form-label fw-bold">Transfer Amount (VND)</label>
                                    <input type="number" class="form-control num-space" id="transfer" name="transfer"
                                        value="0">
                                </div>
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label for="fees" class="form-label fw-bold">Fee (%)</label>
                                    <input type="number" class="form-control num-space" id="fees" name="fees" value="10"
                                        readonly>
                                </div>
                                <div class="mb-3 float-left col-lg-3 col-sm-12 col-md-6">
                                    <label for="total" class="form-label fw-bold">Total Amount (VND)</label>
                                    <input type="number" class="form-control num-space" id="total" value="0" readonly>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-warning">Transfer</button>
                        </div>
                    </div>
                </div>
            </div>
            <!--suspend Modal -->
            <div class="modal fade modal-lg" id="suspendModal" tabindex="-1" aria-labelledby="editModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="editModalLabel">Suspend</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="row mt-3">
                                <input type="hidden" name="id">
                                <div class="col-md-6 mb-3">
                                    <label for="fullName" class="form-label fw-bold">Full Name</label>
                                    <input type="text" class="form-control" id="fullName" name="name" readonly>
                                </div>
                                <div hidden="true" class="col-md-6 mb-3">
                                    <label for="balance" class="form-label fw-bold">Balance</label>
                                    <input type="text" class="form-control" id="balance" name="balance" readonly>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="email" class="form-label fw-bold">Email</label>
                                    <input type="email" class="form-control" id="email" name="email" readonly>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="phone" class="form-label fw-bold">Phone Number</label>
                                    <input type="text" class="form-control" id="phone" name="phone" readonly>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="address" class="form-label fw-bold">Address</label>
                                    <input type="text" class="form-control" id="address" name="address" readonly>
                                </div>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger">Suspend</button>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.12/sweetalert2.all.min.js"></script>
    <script src="./assets/jquery/jquery-3.6.4.min.js"></script>
    <script type="text/javascript" src="./assets/js/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="./assets/js/popper-v1.16.0.min.js"></script>
    <script type="text/javascript" src="./assets/js/jquery.number.js"></script>
    <script type="text/javascript" src="./assets/js/app.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</body>
<script>
    let Customers = [
        {
            id: "1",
            name: "Thi",
            email: "thi@gmail.com",
            phone: "1234",
            balance: "0",
            address: "28 NTP",
        },
        {
            id: "2",
            name: "Thi1",
            email: "thi1@gmail.com",
            phone: "3456",
            balance: "0",
            address: "29 NTP",
        },
        {
            id: "3",
            name: "Thi2",
            email: "thi2@gmail.com",
            phone: "6789",
            balance: "0",
            address: "30 NTP",
        }
    ]
    function renderInformation(obj) {
        return `
    <tr>
        <td >${obj.id}</td>
        <td class="text-center">${obj.name}</td>
        <td class="text-center">${obj.email}</td>
        <td class="text-center">${obj.phone}</td>
        <td class="text-center">${obj.balance}</td>
        <td class="text-center">${obj.address}</td>
        <td class="text-center">
            <button class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modalUpdate">
                <i class="fas fa-pencil-alt"></i>
            </button>
            </td>
            <td class="text-center">
            <button class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#depositModal">
                <i class="fas fa-plus"></i>
            </button>
            <td class="text-center">
            <button class="btn btn-outline-primary " data-bs-toggle="modal" data-bs-target="#withdrawModal">
                <i class="fas fa-minus"></i>
            </button>
            </td>
            <td class="text-center">
            <button class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#transferModal">
                <i class="fas fa-exchange-alt"></i>
            </button>
            </td>
            <td class="text-center">
            <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#suspendModal">
                <i class="fas fa-ban"></i>
            </button>
        </td>
    </tr>
`;
    }
    function getAllCustomer() {
        let str = "";
        $.each(Customers, (index, item) => {
            str += renderInformation(item);
        })
        console.log(str);
        document.getElementById("tbodyCustomer").innerHTML = str;
    }
    getAllCustomer();

    $('#btnCreate').on('click', () => {
        let fullName = $('#fullNameCre').val();
        let email = $('#emailCre').val();
        let phone = $('#phoneCre').val();
        let address = $('#addressCre').val();
        let balance = 0
        let customer = {
            id,
            fullName,
            email,
            phone,
            address,
            balance,
        }
        ++id;
        customers.push(customer);
        let str = renderInformation(item);
        $('#tbCustomer tbody').prepend(str);
        addEventEdit();
        addEventDeposit();
        addEventDelete();
    })
</script>

</html>